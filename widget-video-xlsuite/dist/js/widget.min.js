function loadVideoLinkFromXLSuite(e,i,t){var n="2ae45fc2-72b9-45ce-9771-caf0fabf9c97";console.log("displayKey param",e),$.ajax({url:"https://rn.xlsuite.com/admin/api/liquids/call?api_key="+n+"&tag=load_screen&display_key="+e}).then(function(e){if(!e||!e.screen)return console.log("Error - Returned data is empty",e),t&&t(),void 0;var n=e.screen.channel_url,o=n.substring(n.indexOf("?list=")+6);console.log("Loaded channel URL, channel ID",n,o),i(o)})}if("undefined"==typeof config){var config={SKIN:"skin/RVSkin.xml",STORAGE_ENV:"prod"};"undefined"!=typeof angular&&angular.module("risevision.common.i18n.config",[]).constant("LOCALES_PREFIX","locales/translation_").constant("LOCALES_SUFIX",".json")}var tag=document.createElement("script");tag.src="https://www.youtube.com/iframe_api";var firstScriptTag=document.getElementsByTagName("script")[0];firstScriptTag.parentNode.insertBefore(tag,firstScriptTag);var RiseVision=RiseVision||{};RiseVision.Video={},RiseVision.Video=function(e){"use strict";function i(){e.rpc.call("","rsevent_ready",null,R.getString("id"),!0,!0,!0,!0,!0)}function t(){}function n(){}function o(){}function r(){}function s(){}function a(){}function l(){}function c(){clearTimeout(E),E=setInterval(function(){console.log("Interval check"),loadVideoLinkFromXLSuite(V,function(e){e!=S&&(S=e,g(S,v.width,v.height))})},b)}function d(i,t){console.log("additional params values",t),Array.isArray(i)&&i.length>0&&"additionalParams"===i[0]&&Array.isArray(t)&&t.length>0&&(v=JSON.parse(t[0]),R=new e.Prefs,v||(v={},console.log("additional params recreated")),document.getElementById("videoContainer").style.height=R.getInt("rsH")+"px",v.width=R.getInt("rsW"),v.height=R.getInt("rsH"),R.getString("displayId")?(V=R.getString("displayId"),console.log("displayId set from chromeApp param",V)):(V=v.displayId,console.log("displayId set from default settings",V)),loadVideoLinkFromXLSuite(V,u,function(){V!=R.getString("displayId")&&(V=v.displayId,console.log("Trying to use default displayId",V),loadVideoLinkFromXLSuite(V,u))}))}function u(e){S=e,g(S,v.width,v.height),c(),i()}function g(e,i,t){console.log("Video url, w, h",e,i,t),_=new YT.Player("mainIframe",{width:i,height:t,playerVars:{listType:"playlist",list:e,autoplay:1,controls:0,loop:1,showinfo:0},events:{onError:m,onReady:p,onStateChange:f}})}function m(e){console.log("Player error code",e),_&&null!=_&&e&&e.data>=100&&(_.nextVideo(),console.log("Error, playing next video",e))}function f(){}function p(){}function y(e){console.debug("video-folder::playerError()",e),a()}function h(){r()}var v,V,R=null,S="",b=5e3,E=null,_=null;return{noStorageFile:t,onStorageInit:n,onStorageRefresh:o,pause:r,play:s,setAdditionalParams:d,playerEnded:a,playerReady:l,playerError:y,stop:h}}(gadgets);var RiseVision=RiseVision||{};RiseVision.Video=RiseVision.Video||{},RiseVision.Video.Storage=function(e){"use strict";function i(){var i=document.getElementById("videoStorage");i&&(i.addEventListener("rise-storage-response",function(e){e.detail&&e.detail.url&&(t?(t=!1,RiseVision.Video.onStorageInit(e.detail.url)):e.detail.hasOwnProperty("changed")&&e.detail.changed&&RiseVision.Video.onStorageRefresh(e.detail.url))}),i.addEventListener("rise-storage-no-file",function(){RiseVision.Video.noStorageFile()}),i.setAttribute("folder",e.storage.folder),i.setAttribute("fileName",e.storage.fileName),i.setAttribute("companyId",e.storage.companyId),i.setAttribute("env",config.STORAGE_ENV),i.go())}var t=!0;return{init:i}};var RiseVision=RiseVision||{};RiseVision.Common=RiseVision.Common||{},RiseVision.Common.Video=RiseVision.Common.Video||{},RiseVision.Common.Video.FrameController=function(){"use strict";function e(e){return document.getElementById(l+e)}function i(i){var t,n=e(i);return t=n.querySelector("iframe"),t?t.contentWindow?t.contentWindow:t.contentDocument.document?t.contentDocument.document:t.contentDocument:null}function t(t){var n,o=e(t),r=i(t);r&&(n=o.querySelector("iframe"),r.remove(),n.setAttribute("src","about:blank"))}function n(i){var t=e(i),n=document.createElement("iframe");n.setAttribute("allowTransparency",!0),n.setAttribute("frameborder","0"),n.setAttribute("scrolling","no"),t.appendChild(n)}function o(t,n,o,r,s){var a,l=e(t),c=i(t);c&&(a=l.querySelector("iframe"),a.onload=function(){a.onload=null,c.init(n,o,r),c.load()},a.setAttribute("src",s))}function r(i){var t=e(i);t.style.visibility="hidden"}function s(e,i){var n=document.getElementById(l+e);t(e),setTimeout(function(){for(;n.firstChild;)n.removeChild(n.firstChild);i&&"function"==typeof i&&i()},200)}function a(i){var t=e(i);t.style.visibility="visible"}var l="if_";return{add:n,createFramePlayer:o,getFrameContainer:e,getFrameObject:i,hide:r,remove:s,show:a}};var RiseVision=RiseVision||{};RiseVision.Common=RiseVision.Common||{},RiseVision.Common.Message=function(e,i){"use strict";function t(){try{i.style.height=e.style.height}catch(t){console.warn("Can't initialize Message - ",t.message)}}function n(){if(r){for(;i.firstChild;)i.removeChild(i.firstChild);i.style.display="none",e.style.visibility="visible",r=!1}}function o(t){var n,o=document.createDocumentFragment();r?(n=i.querySelector(".message"),n.innerHTML=t):(e.style.visibility="hidden",i.style.display="block",n=document.createElement("p"),n.innerHTML=t,n.setAttribute("class","message"),n.style.lineHeight=i.style.height,o.appendChild(n),i.appendChild(o),r=!0)}var r=!1;return t(),{hide:n,show:o}},function(e,i){"use strict";function t(){RiseVision.Video.play()}function n(){RiseVision.Video.pause()}function o(){RiseVision.Video.stop()}function r(){e.removeEventListener("WebComponentsReady",r),a&&""!==a&&(i.rpc.register("rscmd_play_"+a,t),i.rpc.register("rscmd_pause_"+a,n),i.rpc.register("rscmd_stop_"+a,o),i.rpc.register("rsparam_set_"+a,RiseVision.Video.setAdditionalParams),i.rpc.call("","rsparam_get",null,a,["additionalParams"]))}var s=new i.Prefs,a=s.getString("id");e.oncontextmenu=function(){return!1},e.addEventListener("WebComponentsReady",r)}(window,gadgets);var _gaq=_gaq||[];_gaq.push(["_setAccount","UA-57092159-2"]),_gaq.push(["_trackPageview"]),function(){var e=document.createElement("script");e.type="text/javascript",e.async=!0,e.src=("https:"==document.location.protocol?"https://ssl":"http://www")+".google-analytics.com/ga.js";var i=document.getElementsByTagName("script")[0];i.parentNode.insertBefore(e,i)}();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImpzL3dpZGdldC5taW4uanMiXSwibmFtZXMiOlsibG9hZFZpZGVvTGlua0Zyb21YTFN1aXRlIiwiZGlzcGxheUtleSIsInN1Y2Nlc3NDYWxsYmFjayIsImVycm9yQ2FsbGJhY2siLCJhcGlLZXkiLCJjb25zb2xlIiwibG9nIiwiJCIsImFqYXgiLCJ1cmwiLCJ0aGVuIiwiZGF0YSIsInNjcmVlbiIsImNoYW5lbFVybCIsImNoYW5uZWxfdXJsIiwiY2hhbm5lbElkIiwic3Vic3RyaW5nIiwiaW5kZXhPZiIsImNvbmZpZyIsIlNLSU4iLCJTVE9SQUdFX0VOViIsImFuZ3VsYXIiLCJtb2R1bGUiLCJjb25zdGFudCIsInRhZyIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsInNyYyIsImZpcnN0U2NyaXB0VGFnIiwiZ2V0RWxlbWVudHNCeVRhZ05hbWUiLCJwYXJlbnROb2RlIiwiaW5zZXJ0QmVmb3JlIiwiUmlzZVZpc2lvbiIsIlZpZGVvIiwiZ2FkZ2V0cyIsIl9yZWFkeSIsInJwYyIsImNhbGwiLCJfcHJlZnMiLCJnZXRTdHJpbmciLCJub1N0b3JhZ2VGaWxlIiwib25TdG9yYWdlSW5pdCIsIm9uU3RvcmFnZVJlZnJlc2giLCJwYXVzZSIsInBsYXkiLCJwbGF5ZXJFbmRlZCIsInBsYXllclJlYWR5Iiwic3RhcnRQbGF5bGlzdENoYW5nZVRpbWVyIiwiY2xlYXJUaW1lb3V0IiwiX3BsYXlsaXN0Q2hhbmdlVGltZXIiLCJzZXRJbnRlcnZhbCIsImRpc3BsYXlJZCIsInZpZGVvVXJsIiwiX2N1cnJlbnRGaWxlIiwiaW5pdFlUUGxheWVyIiwiX2FkZGl0aW9uYWxQYXJhbXMiLCJ3aWR0aCIsImhlaWdodCIsInhsU3VpdGVQbGF5bGlzdFJlZnJlc2hEdXJhdGlvbiIsInNldEFkZGl0aW9uYWxQYXJhbXMiLCJuYW1lcyIsInZhbHVlcyIsIkFycmF5IiwiaXNBcnJheSIsImxlbmd0aCIsIkpTT04iLCJwYXJzZSIsIlByZWZzIiwiZ2V0RWxlbWVudEJ5SWQiLCJzdHlsZSIsImdldEludCIsInN0YXJ0WExTdWl0ZVBsYXllciIsInBsYXlsaXN0SWQiLCJ5b3V0dWJlUGxheWVySlMiLCJZVCIsIlBsYXllciIsInBsYXllclZhcnMiLCJsaXN0VHlwZSIsImxpc3QiLCJhdXRvcGxheSIsImNvbnRyb2xzIiwibG9vcCIsInNob3dpbmZvIiwiZXZlbnRzIiwib25FcnJvciIsIm9uUGxheWVyRXJyb3IiLCJvblJlYWR5Iiwib25QbGF5ZXJSZWFkeSIsIm9uU3RhdGVDaGFuZ2UiLCJvblBsYXllclN0YXRlQ2hhbmdlIiwiZXZlbnQiLCJuZXh0VmlkZW8iLCJwbGF5ZXJFcnJvciIsImVycm9yIiwiZGVidWciLCJzdG9wIiwiU3RvcmFnZSIsImluaXQiLCJzdG9yYWdlIiwiYWRkRXZlbnRMaXN0ZW5lciIsImUiLCJkZXRhaWwiLCJfaW5pdGlhbExvYWQiLCJoYXNPd25Qcm9wZXJ0eSIsImNoYW5nZWQiLCJzZXRBdHRyaWJ1dGUiLCJmb2xkZXIiLCJmaWxlTmFtZSIsImNvbXBhbnlJZCIsImdvIiwiQ29tbW9uIiwiRnJhbWVDb250cm9sbGVyIiwiZ2V0RnJhbWVDb250YWluZXIiLCJpbmRleCIsIlBSRUZJWCIsImdldEZyYW1lT2JqZWN0IiwiaWZyYW1lIiwiZnJhbWVDb250YWluZXIiLCJxdWVyeVNlbGVjdG9yIiwiY29udGVudFdpbmRvdyIsImNvbnRlbnREb2N1bWVudCIsIl9jbGVhciIsImZyYW1lT2JqIiwicmVtb3ZlIiwiYWRkIiwiYXBwZW5kQ2hpbGQiLCJjcmVhdGVGcmFtZVBsYXllciIsInBhcmFtcyIsImZpbGVzIiwic2tpbiIsIm9ubG9hZCIsImxvYWQiLCJoaWRlIiwidmlzaWJpbGl0eSIsImNhbGxiYWNrIiwic2V0VGltZW91dCIsImZpcnN0Q2hpbGQiLCJyZW1vdmVDaGlsZCIsInNob3ciLCJNZXNzYWdlIiwibWFpbkNvbnRhaW5lciIsIm1lc3NhZ2VDb250YWluZXIiLCJfaW5pdCIsIndhcm4iLCJtZXNzYWdlIiwiX2FjdGl2ZSIsImRpc3BsYXkiLCJwIiwiZnJhZ21lbnQiLCJjcmVhdGVEb2N1bWVudEZyYWdtZW50IiwiaW5uZXJIVE1MIiwibGluZUhlaWdodCIsIndpbmRvdyIsInBvbHltZXJSZWFkeSIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJpZCIsInJlZ2lzdGVyIiwicHJlZnMiLCJvbmNvbnRleHRtZW51IiwiX2dhcSIsInB1c2giLCJnYSIsInR5cGUiLCJhc3luYyIsImxvY2F0aW9uIiwicHJvdG9jb2wiLCJzIl0sIm1hcHBpbmdzIjoiQUFpQkEsUUFBU0EsMEJBQXlCQyxFQUFZQyxFQUFpQkMsR0FDN0QsR0FBSUMsR0FBUyxzQ0FDYkMsU0FBUUMsSUFBSSxtQkFBb0JMLEdBRWhDTSxFQUFFQyxNQUNBQyxJQUFLLHlEQUEyREwsRUFBUyxnQ0FBa0NILElBQzFHUyxLQUFLLFNBQVVDLEdBQ2hCLElBQUtBLElBQVNBLEVBQUtDLE9BS2pCLE1BSkFQLFNBQVFDLElBQUksaUNBQWtDSyxHQUMxQ1IsR0FDRkEsSUFFRixNQUlGLElBQUlVLEdBQVlGLEVBQUtDLE9BQU9FLFlBQ3hCQyxFQUFZRixFQUFVRyxVQUFVSCxFQUFVSSxRQUFRLFVBQVksRUFFbEVaLFNBQVFDLElBQUksaUNBQWtDTyxFQUFXRSxHQUN6RGIsRUFBZ0JhLEtBbkNwQixHQUFzQixtQkFBWEcsUUFBd0IsQ0FDakMsR0FBSUEsU0FDRkMsS0FBTSxrQkFDTkMsWUFBYSxPQUdRLG9CQUFaQyxVQUNUQSxRQUFRQyxPQUFPLG9DQUNaQyxTQUFTLGlCQUFrQix3QkFDM0JBLFNBQVMsZ0JBQWlCLFNBMENqQyxHQUFJQyxLQUFNQyxTQUFTQyxjQUFjLFNBQ2pDRixLQUFJRyxJQUFNLG9DQUVWLElBQUlDLGdCQUFpQkgsU0FBU0kscUJBQXFCLFVBQVUsRUFDN0RELGdCQUFlRSxXQUFXQyxhQUFhUCxJQUFLSSxlQUU1QyxJQUFJSSxZQUFhQSxjQUNqQkEsWUFBV0MsU0FFWEQsV0FBV0MsTUFBUSxTQUFXQyxHQUM1QixZQWtCQSxTQUFTQyxLQUNQRCxFQUFRRSxJQUFJQyxLQUFLLEdBQUksZ0JBQWlCLEtB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LEVBQUloSCxHQUMxQ1QsRUFBUUUsSUFBSXdILFNBQVMsY0FBZ0JELEVBQUk1RCxHQUV6QzdELEVBQVFFLElBQUl3SCxTQUFTLGVBQWlCRCxFQUFJM0gsV0FBV0MsTUFBTTBCLHFCQUMzRHpCLEVBQVFFLElBQUlDLEtBQUssR0FBSSxjQUFlLEtBQU1zSCxHQUFLLHNCQTdCbkQsR0FBSUUsR0FBUSxHQUFJM0gsR0FBUWlDLE1BQ3RCd0YsRUFBS0UsRUFBTXRILFVBQVUsS0FHdkJpSCxHQUFPTSxjQUFnQixXQUNyQixPQUFPLEdBNEJUTixFQUFPckQsaUJBQWlCLHFCQUFzQnNELElBRTdDRCxPQUFRdEgsUUFLWCxJQUFJNkgsTUFBT0EsUUFFWEEsTUFBS0MsTUFBTSxjQUFlLGtCQUMxQkQsS0FBS0MsTUFBTSxtQkFFWCxXQUNFLEdBQUlDLEdBQUt4SSxTQUFTQyxjQUFjLFNBQVd1SSxHQUFHQyxLQUFPLGtCQUFtQkQsRUFBR0UsT0FBUSxFQUNuRkYsRUFBR3RJLEtBQU8sVUFBWUYsU0FBUzJJLFNBQVNDLFNBQVcsY0FBZ0IsY0FBZ0IsNkJBQ25GLElBQUlDLEdBQUk3SSxTQUFTSSxxQkFBcUIsVUFBVSxFQUFJeUksR0FBRXhJLFdBQVdDLGFBQWFrSSxFQUFJSyIsImZpbGUiOiJqcy93aWRnZXQubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyogZ2xvYmFsIGNvbmZpZzogdHJ1ZSAqL1xuLyogZXhwb3J0ZWQgY29uZmlnICovXG5pZiAodHlwZW9mIGNvbmZpZyA9PT0gXCJ1bmRlZmluZWRcIikge1xuICB2YXIgY29uZmlnID0ge1xuICAgIFNLSU46IFwic2tpbi9SVlNraW4ueG1sXCIsXG4gICAgU1RPUkFHRV9FTlY6IFwicHJvZFwiXG4gIH07XG5cbiAgaWYgKHR5cGVvZiBhbmd1bGFyICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgYW5ndWxhci5tb2R1bGUoXCJyaXNldmlzaW9uLmNvbW1vbi5pMThuLmNvbmZpZ1wiLCBbXSlcbiAgICAgIC5jb25zdGFudChcIkxPQ0FMRVNfUFJFRklYXCIsIFwibG9jYWxlcy90cmFuc2xhdGlvbl9cIilcbiAgICAgIC5jb25zdGFudChcIkxPQ0FMRVNfU1VGSVhcIiwgXCIuanNvblwiKTtcbiAgfVxufVxuXHJcbid1c2Ugc3RyaWN0JztcclxuXHJcbmZ1bmN0aW9uIGxvYWRWaWRlb0xpbmtGcm9tWExTdWl0ZShkaXNwbGF5S2V5LCBzdWNjZXNzQ2FsbGJhY2ssIGVycm9yQ2FsbGJhY2spIHtcclxuICB2YXIgYXBpS2V5ID0gXCIyYWU0NWZjMi03MmI5LTQ1Y2UtOTc3MS1jYWYwZmFiZjljOTdcIjtcclxuICBjb25zb2xlLmxvZyhcImRpc3BsYXlLZXkgcGFyYW1cIiwgZGlzcGxheUtleSk7XHJcblxyXG4gICQuYWpheCh7XHJcbiAgICB1cmw6IFwiaHR0cHM6Ly9ybi54bHN1aXRlLmNvbS9hZG1pbi9hcGkvbGlxdWlkcy9jYWxsP2FwaV9rZXk9XCIgKyBhcGlLZXkgKyBcIiZ0YWc9bG9hZF9zY3JlZW4mZGlzcGxheV9rZXk9XCIgKyBkaXNwbGF5S2V5XHJcbiAgfSkudGhlbihmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgaWYgKCFkYXRhIHx8ICFkYXRhLnNjcmVlbikge1xyXG4gICAgICBjb25zb2xlLmxvZyhcIkVycm9yIC0gUmV0dXJuZWQgZGF0YSBpcyBlbXB0eVwiLCBkYXRhKTtcclxuICAgICAgaWYgKGVycm9yQ2FsbGJhY2spIHtcclxuICAgICAgICBlcnJvckNhbGxiYWNrKCk7XHJcbiAgICAgIH1cclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIC8vdG9kbzogc2F2ZSBjaGFubmVsIFVSTCB0byBzb21lICBzZXR0aW5ncyAvIHZhcmlhYmxlXHJcbiAgICB2YXIgY2hhbmVsVXJsID0gZGF0YS5zY3JlZW4uY2hhbm5lbF91cmw7XHJcbiAgICB2YXIgY2hhbm5lbElkID0gY2hhbmVsVXJsLnN1YnN0cmluZyhjaGFuZWxVcmwuaW5kZXhPZihcIj9saXN0PVwiKSArIDYpO1xyXG5cclxuICAgIGNvbnNvbGUubG9nKFwiTG9hZGVkIGNoYW5uZWwgVVJMLCBjaGFubmVsIElEXCIsIGNoYW5lbFVybCwgY2hhbm5lbElkKTtcclxuICAgIHN1Y2Nlc3NDYWxsYmFjayhjaGFubmVsSWQpO1xyXG5cclxuICAgIC8vUk4gLSBodHRwczovL3d3dy55b3V0dWJlLmNvbS9lbWJlZC92aWRlb3Nlcmllcz9saXN0PVBMbjU2VmJ4T1M3N2ZkLXFiWncwbXZuUzJQbV9fdHZTSFpcclxuICAgIC8vbXkgLSBodHRwczovL3d3dy55b3V0dWJlLmNvbS9lbWJlZC92aWRlb3Nlcmllcz9saXN0PVBMNDhaR3dDcHdQeUZWaUVMZ3NudlVrblJ6SnlvMmdPaEFcclxuXHJcbiAgICAvL3RvZG86IGZpeCBlbWJlZGRlZCBlcnJvcnNcclxuICAgIC8vaHR0cHM6Ly93d3cuZHJ1cGFsLm9yZy9ub2RlLzE4ODc4MThcclxuICAgIC8vaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy8xMjUyMjI5MS9wYXVzaW5nLXlvdXR1YmUtaWZyYW1lLWFwaS1pbi1qYXZhc2NyaXB0XHJcbiAgICAvL2h0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvODIwNTE3OS95b3V0dWJlLWFwaS1oYW5kbGluZy12aWRlb3MtdGhhdC1oYXZlLWJlZW4tcmVtb3ZlZC1ieS15b3V0dWJlXHJcblxyXG4gIH0pO1xyXG5cclxufVxyXG5cclxuLyogZ2xvYmFsIGdhZGdldHMsIGNvbmZpZyAqL1xuXG52YXIgdGFnID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc2NyaXB0Jyk7XG50YWcuc3JjID0gXCJodHRwczovL3d3dy55b3V0dWJlLmNvbS9pZnJhbWVfYXBpXCI7XG5cbnZhciBmaXJzdFNjcmlwdFRhZyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdzY3JpcHQnKVswXTtcbmZpcnN0U2NyaXB0VGFnLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKHRhZywgZmlyc3RTY3JpcHRUYWcpO1xuXG52YXIgUmlzZVZpc2lvbiA9IFJpc2VWaXNpb24gfHwge307XG5SaXNlVmlzaW9uLlZpZGVvID0ge307XG5cblJpc2VWaXNpb24uVmlkZW8gPSAoZnVuY3Rpb24gKGdhZGdldHMpIHtcbiAgXCJ1c2Ugc3RyaWN0XCI7XG5cbiAgdmFyIF9hZGRpdGlvbmFsUGFyYW1zO1xuICB2YXIgX3ByZWZzID0gbnVsbDtcblxuICB2YXIgX2N1cnJlbnRGaWxlID0gXCJcIjtcbiAgdmFyIGRpc3BsYXlJZDtcblxuICB2YXIgeGxTdWl0ZVBsYXlsaXN0UmVmcmVzaER1cmF0aW9uID0gNTAwMDsgLy81IHNlY1xuXG4gIHZhciBfcGxheWxpc3RDaGFuZ2VUaW1lciA9IG51bGw7XG5cbiAgdmFyIHlvdXR1YmVQbGF5ZXJKUyA9IG51bGw7XG5cbiAgZnVuY3Rpb24gX2RvbmUoKSB7XG4gICAgZ2FkZ2V0cy5ycGMuY2FsbChcIlwiLCBcInJzZXZlbnRfZG9uZVwiLCBudWxsLCBfcHJlZnMuZ2V0U3RyaW5nKFwiaWRcIikpO1xuICB9XG5cbiAgZnVuY3Rpb24gX3JlYWR5KCkge1xuICAgIGdhZGdldHMucnBjLmNhbGwoXCJcIiwgXCJyc2V2ZW50X3JlYWR5XCIsIG51bGwsIF9wcmVmcy5nZXRTdHJpbmcoXCJpZFwiKSwgdHJ1ZSwgdHJ1ZSwgdHJ1ZSwgdHJ1ZSwgdHJ1ZSk7XG4gIH1cblxuICAvKlxuICAgKiAgUHVibGljIE1ldGhvZHNcbiAgICovXG4gIGZ1bmN0aW9uIG5vU3RvcmFnZUZpbGUoKSB7XG4gIH1cblxuICBmdW5jdGlvbiBvblN0b3JhZ2VJbml0KHVybCkge1xuICB9XG5cbiAgZnVuY3Rpb24gb25TdG9yYWdlUmVmcmVzaCh1cmwpIHtcbiAgfVxuXG4gIGZ1bmN0aW9uIHBhdXNlKCkge1xuICB9XG5cbiAgZnVuY3Rpb24gcGxheSgpIHtcbiAgfVxuXG4gIGZ1bmN0aW9uIHBsYXllckVuZGVkKCkge1xuICB9XG5cbiAgZnVuY3Rpb24gcGxheWVyUmVhZHkoKSB7XG4gIH1cblxuICBmdW5jdGlvbiBzdGFydFBsYXlsaXN0Q2hhbmdlVGltZXIoKSB7XG4gICAgY2xlYXJUaW1lb3V0KF9wbGF5bGlzdENoYW5nZVRpbWVyKTtcblxuICAgIF9wbGF5bGlzdENoYW5nZVRpbWVyID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24gKCkge1xuICAgICAgY29uc29sZS5sb2coXCJJbnRlcnZhbCBjaGVja1wiKTtcblxuICAgICAgbG9hZFZpZGVvTGlua0Zyb21YTFN1aXRlKGRpc3BsYXlJZCwgZnVuY3Rpb24gKHZpZGVvVXJsKSB7XG4gICAgICAgIGlmICh2aWRlb1VybCAhPSBfY3VycmVudEZpbGUpIHtcbiAgICAgICAgICBfY3VycmVudEZpbGUgPSB2aWRlb1VybDtcbiAgICAgICAgICBpbml0WVRQbGF5ZXIoX2N1cnJlbnRGaWxlLCBfYWRkaXRpb25hbFBhcmFtcy53aWR0aCwgX2FkZGl0aW9uYWxQYXJhbXMuaGVpZ2h0KTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICB9LCB4bFN1aXRlUGxheWxpc3RSZWZyZXNoRHVyYXRpb24pO1xuICB9XG5cbiAgZnVuY3Rpb24gc2V0QWRkaXRpb25hbFBhcmFtcyhuYW1lcywgdmFsdWVzKSB7XG4gICAgY29uc29sZS5sb2coXCJhZGRpdGlvbmFsIHBhcmFtcyB2YWx1ZXNcIiwgdmFsdWVzKTtcbiAgICBpZiAoQXJyYXkuaXNBcnJheShuYW1lcykgJiYgbmFtZXMubGVuZ3RoID4gMCAmJiBuYW1lc1swXSA9PT0gXCJhZGRpdGlvbmFsUGFyYW1zXCIpIHtcbiAgICAgIGlmIChBcnJheS5pc0FycmF5KHZhbHVlcykgJiYgdmFsdWVzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgX2FkZGl0aW9uYWxQYXJhbXMgPSBKU09OLnBhcnNlKHZhbHVlc1swXSk7XG4gICAgICAgIF9wcmVmcyA9IG5ldyBnYWRnZXRzLlByZWZzKCk7XG5cbiAgICAgICAgaWYgKCFfYWRkaXRpb25hbFBhcmFtcykge1xuICAgICAgICAgIF9hZGRpdGlvbmFsUGFyYW1zID0ge307XG4gICAgICAgICAgY29uc29sZS5sb2coXCJhZGRpdGlvbmFsIHBhcmFtcyByZWNyZWF0ZWRcIik7XG4gICAgICAgIH1cblxuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInZpZGVvQ29udGFpbmVyXCIpLnN0eWxlLmhlaWdodCA9IF9wcmVmcy5nZXRJbnQoXCJyc0hcIikgKyBcInB4XCI7XG5cbiAgICAgICAgX2FkZGl0aW9uYWxQYXJhbXMud2lkdGggPSBfcHJlZnMuZ2V0SW50KFwicnNXXCIpO1xuICAgICAgICBfYWRkaXRpb25hbFBhcmFtcy5oZWlnaHQgPSBfcHJlZnMuZ2V0SW50KFwicnNIXCIpO1xuXG4gICAgICAgIGlmIChfcHJlZnMuZ2V0U3RyaW5nKFwiZGlzcGxheUlkXCIpKSB7XG4gICAgICAgICAgZGlzcGxheUlkID0gX3ByZWZzLmdldFN0cmluZyhcImRpc3BsYXlJZFwiKTtcbiAgICAgICAgICBjb25zb2xlLmxvZyhcImRpc3BsYXlJZCBzZXQgZnJvbSBjaHJvbWVBcHAgcGFyYW1cIiwgZGlzcGxheUlkKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBkaXNwbGF5SWQgPSBfYWRkaXRpb25hbFBhcmFtcy5kaXNwbGF5SWQ7XG4gICAgICAgICAgY29uc29sZS5sb2coXCJkaXNwbGF5SWQgc2V0IGZyb20gZGVmYXVsdCBzZXR0aW5nc1wiLCBkaXNwbGF5SWQpO1xuICAgICAgICB9XG5cbiAgICAgICAgbG9hZFZpZGVvTGlua0Zyb21YTFN1aXRlKGRpc3BsYXlJZCwgc3RhcnRYTFN1aXRlUGxheWVyLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICBpZiAoZGlzcGxheUlkICE9IF9wcmVmcy5nZXRTdHJpbmcoXCJkaXNwbGF5SWRcIikpIHtcbiAgICAgICAgICAgIGRpc3BsYXlJZCA9IF9hZGRpdGlvbmFsUGFyYW1zLmRpc3BsYXlJZDtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiVHJ5aW5nIHRvIHVzZSBkZWZhdWx0IGRpc3BsYXlJZFwiLCBkaXNwbGF5SWQpO1xuICAgICAgICAgICAgbG9hZFZpZGVvTGlua0Zyb21YTFN1aXRlKGRpc3BsYXlJZCwgc3RhcnRYTFN1aXRlUGxheWVyKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHN0YXJ0WExTdWl0ZVBsYXllcih2aWRlb1VybCkge1xuICAgIF9jdXJyZW50RmlsZSA9IHZpZGVvVXJsO1xuICAgIGluaXRZVFBsYXllcihfY3VycmVudEZpbGUsIF9hZGRpdGlvbmFsUGFyYW1zLndpZHRoLCBfYWRkaXRpb25hbFBhcmFtcy5oZWlnaHQpO1xuICAgIHN0YXJ0UGxheWxpc3RDaGFuZ2VUaW1lcigpO1xuXG4gICAgX3JlYWR5KCk7XG4gIH1cblxuICBmdW5jdGlvbiBpbml0WVRQbGF5ZXIocGxheWxpc3RJZCwgd2lkdGgsIGhlaWdodCkge1xuICAgIGNvbnNvbGUubG9nKFwiVmlkZW8gdXJsLCB3LCBoXCIsIHBsYXlsaXN0SWQsIHdpZHRoLCBoZWlnaHQpO1xuXG4gICAgeW91dHViZVBsYXllckpTID0gbmV3IFlULlBsYXllcignbWFpbklmcmFtZScsIHtcbiAgICAgIHdpZHRoOiB3aWR0aCxcbiAgICAgIGhlaWdodDogaGVpZ2h0LFxuICAgICAgcGxheWVyVmFyczoge1xuICAgICAgICBsaXN0VHlwZToncGxheWxpc3QnLFxuICAgICAgICBsaXN0OiBwbGF5bGlzdElkLFxuICAgICAgICAnYXV0b3BsYXknOiAxLFxuICAgICAgICAnY29udHJvbHMnOiAwLFxuICAgICAgICAnbG9vcCc6IDEsXG4gICAgICAgICdzaG93aW5mbyc6IDBcbiAgICAgIH0sXG4gICAgICBldmVudHM6IHtcbiAgICAgICAgJ29uRXJyb3InOiBvblBsYXllckVycm9yLFxuICAgICAgICAnb25SZWFkeSc6IG9uUGxheWVyUmVhZHksXG4gICAgICAgICdvblN0YXRlQ2hhbmdlJzogb25QbGF5ZXJTdGF0ZUNoYW5nZVxuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gb25QbGF5ZXJFcnJvcihldmVudCkge1xuICAgIGNvbnNvbGUubG9nKFwiUGxheWVyIGVycm9yIGNvZGVcIiwgZXZlbnQpO1xuICAgIGlmICh5b3V0dWJlUGxheWVySlMgJiYgeW91dHViZVBsYXllckpTICE9IG51bGwgJiYgZXZlbnQgJiYgZXZlbnQuZGF0YSA+PSAxMDApIHtcbiAgICAgIHlvdXR1YmVQbGF5ZXJKUy5uZXh0VmlkZW8oKTtcbiAgICAgIGNvbnNvbGUubG9nKFwiRXJyb3IsIHBsYXlpbmcgbmV4dCB2aWRlb1wiLCBldmVudCk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gb25QbGF5ZXJTdGF0ZUNoYW5nZShldmVudCkge1xuICAvLyAgY29uc29sZS5sb2coXCJPbiBwbGF5ZXIgc3RhdGUgY2hhbmdlXCIsIGV2ZW50KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIG9uUGxheWVyUmVhZHkoZXZlbnQpIHtcbi8vICAgIGNvbnNvbGUubG9nKFwiT24gcGxheWVyIHJlYWR5XCIsIGV2ZW50KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHBsYXllckVycm9yKGVycm9yKSB7XG4gICAgY29uc29sZS5kZWJ1ZyhcInZpZGVvLWZvbGRlcjo6cGxheWVyRXJyb3IoKVwiLCBlcnJvcik7XG5cbiAgICAvLyBhY3QgYXMgdGhvdWdoIHZpZGVvIGhhcyBlbmRlZFxuICAgIHBsYXllckVuZGVkKCk7XG4gIH1cblxuICBmdW5jdGlvbiBzdG9wKCkge1xuICAgIHBhdXNlKCk7XG4gIH1cblxuICByZXR1cm4ge1xuICAgIFwibm9TdG9yYWdlRmlsZVwiOiBub1N0b3JhZ2VGaWxlLFxuICAgIFwib25TdG9yYWdlSW5pdFwiOiBvblN0b3JhZ2VJbml0LFxuICAgIFwib25TdG9yYWdlUmVmcmVzaFwiOiBvblN0b3JhZ2VSZWZyZXNoLFxuICAgIFwicGF1c2VcIjogcGF1c2UsXG4gICAgXCJwbGF5XCI6IHBsYXksXG4gICAgXCJzZXRBZGRpdGlvbmFsUGFyYW1zXCI6IHNldEFkZGl0aW9uYWxQYXJhbXMsXG4gICAgXCJwbGF5ZXJFbmRlZFwiOiBwbGF5ZXJFbmRlZCxcbiAgICBcInBsYXllclJlYWR5XCI6IHBsYXllclJlYWR5LFxuICAgIFwicGxheWVyRXJyb3JcIjogcGxheWVyRXJyb3IsXG4gICAgXCJzdG9wXCI6IHN0b3BcbiAgfTtcblxufSkoZ2FkZ2V0cyk7XG5cclxuLyogZ2xvYmFsIGNvbmZpZyAqL1xuXG52YXIgUmlzZVZpc2lvbiA9IFJpc2VWaXNpb24gfHwge307XG5SaXNlVmlzaW9uLlZpZGVvID0gUmlzZVZpc2lvbi5WaWRlbyB8fCB7fTtcblxuUmlzZVZpc2lvbi5WaWRlby5TdG9yYWdlID0gZnVuY3Rpb24gKGRhdGEpIHtcbiAgXCJ1c2Ugc3RyaWN0XCI7XG5cbiAgdmFyIF9pbml0aWFsTG9hZCA9IHRydWU7XG5cbiAgLypcbiAgICogIFB1YmxpYyBNZXRob2RzXG4gICAqL1xuICBmdW5jdGlvbiBpbml0KCkge1xuICAgIHZhciBzdG9yYWdlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ2aWRlb1N0b3JhZ2VcIik7XG5cbiAgICBpZiAoIXN0b3JhZ2UpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBzdG9yYWdlLmFkZEV2ZW50TGlzdGVuZXIoXCJyaXNlLXN0b3JhZ2UtcmVzcG9uc2VcIiwgZnVuY3Rpb24oZSkge1xuICAgICAgaWYgKGUuZGV0YWlsICYmIGUuZGV0YWlsLnVybCkge1xuXG4gICAgICAgIGlmIChfaW5pdGlhbExvYWQpIHtcbiAgICAgICAgICBfaW5pdGlhbExvYWQgPSBmYWxzZTtcblxuICAgICAgICAgIFJpc2VWaXNpb24uVmlkZW8ub25TdG9yYWdlSW5pdChlLmRldGFpbC51cmwpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIC8vIGNoZWNrIGZvciBcImNoYW5nZWRcIiBwcm9wZXJ0eSBhbmQgZW5zdXJlIGl0IGlzIHRydWVcbiAgICAgICAgICBpZiAoZS5kZXRhaWwuaGFzT3duUHJvcGVydHkoXCJjaGFuZ2VkXCIpICYmIGUuZGV0YWlsLmNoYW5nZWQpIHtcbiAgICAgICAgICAgIFJpc2VWaXNpb24uVmlkZW8ub25TdG9yYWdlUmVmcmVzaChlLmRldGFpbC51cmwpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuXG4gICAgc3RvcmFnZS5hZGRFdmVudExpc3RlbmVyKFwicmlzZS1zdG9yYWdlLW5vLWZpbGVcIiwgZnVuY3Rpb24oKSB7XG4gICAgICBSaXNlVmlzaW9uLlZpZGVvLm5vU3RvcmFnZUZpbGUoKTtcbiAgICB9KTtcblxuICAgIHN0b3JhZ2Uuc2V0QXR0cmlidXRlKFwiZm9sZGVyXCIsIGRhdGEuc3RvcmFnZS5mb2xkZXIpO1xuICAgIHN0b3JhZ2Uuc2V0QXR0cmlidXRlKFwiZmlsZU5hbWVcIiwgZGF0YS5zdG9yYWdlLmZpbGVOYW1lKTtcbiAgICBzdG9yYWdlLnNldEF0dHJpYnV0ZShcImNvbXBhbnlJZFwiLCBkYXRhLnN0b3JhZ2UuY29tcGFueUlkKTtcbiAgICBzdG9yYWdlLnNldEF0dHJpYnV0ZShcImVudlwiLCBjb25maWcuU1RPUkFHRV9FTlYpO1xuICAgIHN0b3JhZ2UuZ28oKTtcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgXCJpbml0XCI6IGluaXRcbiAgfTtcbn07XG5cclxudmFyIFJpc2VWaXNpb24gPSBSaXNlVmlzaW9uIHx8IHt9O1xyXG5SaXNlVmlzaW9uLkNvbW1vbiA9IFJpc2VWaXNpb24uQ29tbW9uIHx8IHt9O1xyXG5cclxuUmlzZVZpc2lvbi5Db21tb24uVmlkZW8gPSBSaXNlVmlzaW9uLkNvbW1vbi5WaWRlbyB8fCB7fTtcclxuXHJcblJpc2VWaXNpb24uQ29tbW9uLlZpZGVvLkZyYW1lQ29udHJvbGxlciA9IGZ1bmN0aW9uICgpIHtcclxuICBcInVzZSBzdHJpY3RcIjtcclxuXHJcbiAgdmFyIFBSRUZJWCA9IFwiaWZfXCI7XHJcblxyXG4gIGZ1bmN0aW9uIGdldEZyYW1lQ29udGFpbmVyKGluZGV4KSB7XHJcbiAgICByZXR1cm4gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoUFJFRklYICsgaW5kZXgpO1xyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gZ2V0RnJhbWVPYmplY3QoaW5kZXgpIHtcclxuICAgIHZhciBmcmFtZUNvbnRhaW5lciA9IGdldEZyYW1lQ29udGFpbmVyKGluZGV4KSxcclxuICAgICAgaWZyYW1lO1xyXG5cclxuICAgIGlmcmFtZSA9IGZyYW1lQ29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoXCJpZnJhbWVcIik7XHJcblxyXG4gICAgaWYgKGlmcmFtZSkge1xyXG4gICAgICByZXR1cm4gKGlmcmFtZS5jb250ZW50V2luZG93KSA/IGlmcmFtZS5jb250ZW50V2luZG93IDpcclxuICAgICAgICAoaWZyYW1lLmNvbnRlbnREb2N1bWVudC5kb2N1bWVudCkgPyBpZnJhbWUuY29udGVudERvY3VtZW50LmRvY3VtZW50IDogaWZyYW1lLmNvbnRlbnREb2N1bWVudDtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gbnVsbDtcclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIF9jbGVhcihpbmRleCkge1xyXG4gICAgdmFyIGZyYW1lQ29udGFpbmVyID0gZ2V0RnJhbWVDb250YWluZXIoaW5kZXgpLFxyXG4gICAgICBmcmFtZU9iaiA9IGdldEZyYW1lT2JqZWN0KGluZGV4KSxcclxuICAgICAgaWZyYW1lO1xyXG5cclxuICAgIGlmIChmcmFtZU9iaikge1xyXG4gICAgICBpZnJhbWUgPSBmcmFtZUNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKFwiaWZyYW1lXCIpO1xyXG4gICAgICBmcmFtZU9iai5yZW1vdmUoKTtcclxuICAgICAgaWZyYW1lLnNldEF0dHJpYnV0ZShcInNyY1wiLCBcImFib3V0OmJsYW5rXCIpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gYWRkKGluZGV4KSB7XHJcbiAgICB2YXIgZnJhbWVDb250YWluZXIgPSBnZXRGcmFtZUNvbnRhaW5lcihpbmRleCksXHJcbiAgICAgIGlmcmFtZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpZnJhbWVcIik7XHJcblxyXG4gICAgaWZyYW1lLnNldEF0dHJpYnV0ZShcImFsbG93VHJhbnNwYXJlbmN5XCIsIHRydWUpO1xyXG4gICAgaWZyYW1lLnNldEF0dHJpYnV0ZShcImZyYW1lYm9yZGVyXCIsIFwiMFwiKTtcclxuICAgIGlmcmFtZS5zZXRBdHRyaWJ1dGUoXCJzY3JvbGxpbmdcIiwgXCJub1wiKTtcclxuXHJcbiAgICBmcmFtZUNvbnRhaW5lci5hcHBlbmRDaGlsZChpZnJhbWUpO1xyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gY3JlYXRlRnJhbWVQbGF5ZXIoaW5kZXgsIHBhcmFtcywgZmlsZXMsIHNraW4sIHNyYykge1xyXG4gICAgdmFyIGZyYW1lQ29udGFpbmVyID0gZ2V0RnJhbWVDb250YWluZXIoaW5kZXgpLFxyXG4gICAgICBmcmFtZU9iaiA9IGdldEZyYW1lT2JqZWN0KGluZGV4KSxcclxuICAgICAgaWZyYW1lO1xyXG5cclxuICAgIGlmIChmcmFtZU9iaikge1xyXG4gICAgICBpZnJhbWUgPSBmcmFtZUNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKFwiaWZyYW1lXCIpO1xyXG5cclxuICAgICAgaWZyYW1lLm9ubG9hZCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBpZnJhbWUub25sb2FkID0gbnVsbDtcclxuXHJcbiAgICAgICAgLy8gaW5pdGlhbGl6ZSBhbmQgbG9hZCB0aGUgcGxheWVyIGluc2lkZSB0aGUgaWZyYW1lXHJcbiAgICAgICAgZnJhbWVPYmouaW5pdChwYXJhbXMsIGZpbGVzLCBza2luKTtcclxuICAgICAgICBmcmFtZU9iai5sb2FkKCk7XHJcbiAgICAgIH07XHJcblxyXG4gICAgICBpZnJhbWUuc2V0QXR0cmlidXRlKFwic3JjXCIsIHNyYyk7XHJcbiAgICB9XHJcblxyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gaGlkZShpbmRleCkge1xyXG4gICAgdmFyIGZyYW1lQ29udGFpbmVyID0gZ2V0RnJhbWVDb250YWluZXIoaW5kZXgpO1xyXG5cclxuICAgIGZyYW1lQ29udGFpbmVyLnN0eWxlLnZpc2liaWxpdHkgPSBcImhpZGRlblwiO1xyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gcmVtb3ZlKGluZGV4LCBjYWxsYmFjaykge1xyXG4gICAgdmFyIGZyYW1lQ29udGFpbmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoUFJFRklYICsgaW5kZXgpO1xyXG5cclxuICAgIF9jbGVhcihpbmRleCk7XHJcblxyXG4gICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XHJcbiAgICAgIC8vIHJlbW92ZSB0aGUgaWZyYW1lIGJ5IGNsZWFyaW5nIGFsbCBlbGVtZW50cyBpbnNpZGUgZGl2IGNvbnRhaW5lclxyXG4gICAgICB3aGlsZSAoZnJhbWVDb250YWluZXIuZmlyc3RDaGlsZCkge1xyXG4gICAgICAgIGZyYW1lQ29udGFpbmVyLnJlbW92ZUNoaWxkKGZyYW1lQ29udGFpbmVyLmZpcnN0Q2hpbGQpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAoY2FsbGJhY2sgJiYgdHlwZW9mIGNhbGxiYWNrID09PSBcImZ1bmN0aW9uXCIpIHtcclxuICAgICAgICBjYWxsYmFjaygpO1xyXG4gICAgICB9XHJcbiAgICB9LCAyMDApO1xyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gc2hvdyhpbmRleCkge1xyXG4gICAgdmFyIGZyYW1lQ29udGFpbmVyID0gZ2V0RnJhbWVDb250YWluZXIoaW5kZXgpO1xyXG5cclxuICAgIGZyYW1lQ29udGFpbmVyLnN0eWxlLnZpc2liaWxpdHkgPSBcInZpc2libGVcIjtcclxuICB9XHJcblxyXG4gIHJldHVybiB7XHJcbiAgICBhZGQ6IGFkZCxcclxuICAgIGNyZWF0ZUZyYW1lUGxheWVyOiBjcmVhdGVGcmFtZVBsYXllcixcclxuICAgIGdldEZyYW1lQ29udGFpbmVyOiBnZXRGcmFtZUNvbnRhaW5lcixcclxuICAgIGdldEZyYW1lT2JqZWN0OiBnZXRGcmFtZU9iamVjdCxcclxuICAgIGhpZGU6IGhpZGUsXHJcbiAgICByZW1vdmU6IHJlbW92ZSxcclxuICAgIHNob3c6IHNob3dcclxuICB9O1xyXG59O1xyXG5cclxudmFyIFJpc2VWaXNpb24gPSBSaXNlVmlzaW9uIHx8IHt9O1xyXG5SaXNlVmlzaW9uLkNvbW1vbiA9IFJpc2VWaXNpb24uQ29tbW9uIHx8IHt9O1xyXG5cclxuUmlzZVZpc2lvbi5Db21tb24uTWVzc2FnZSA9IGZ1bmN0aW9uIChtYWluQ29udGFpbmVyLCBtZXNzYWdlQ29udGFpbmVyKSB7XHJcbiAgXCJ1c2Ugc3RyaWN0XCI7XHJcblxyXG4gIHZhciBfYWN0aXZlID0gZmFsc2U7XHJcblxyXG4gIGZ1bmN0aW9uIF9pbml0KCkge1xyXG4gICAgdHJ5IHtcclxuICAgICAgbWVzc2FnZUNvbnRhaW5lci5zdHlsZS5oZWlnaHQgPSBtYWluQ29udGFpbmVyLnN0eWxlLmhlaWdodDtcclxuICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgY29uc29sZS53YXJuKFwiQ2FuJ3QgaW5pdGlhbGl6ZSBNZXNzYWdlIC0gXCIsIGUubWVzc2FnZSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvKlxyXG4gICAqICBQdWJsaWMgTWV0aG9kc1xyXG4gICAqL1xyXG4gIGZ1bmN0aW9uIGhpZGUoKSB7XHJcbiAgICBpZiAoX2FjdGl2ZSkge1xyXG4gICAgICAvLyBjbGVhciBjb250ZW50IG9mIG1lc3NhZ2UgY29udGFpbmVyXHJcbiAgICAgIHdoaWxlIChtZXNzYWdlQ29udGFpbmVyLmZpcnN0Q2hpbGQpIHtcclxuICAgICAgICBtZXNzYWdlQ29udGFpbmVyLnJlbW92ZUNoaWxkKG1lc3NhZ2VDb250YWluZXIuZmlyc3RDaGlsZCk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIGhpZGUgbWVzc2FnZSBjb250YWluZXJcclxuICAgICAgbWVzc2FnZUNvbnRhaW5lci5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XHJcblxyXG4gICAgICAvLyBzaG93IG1haW4gY29udGFpbmVyXHJcbiAgICAgIG1haW5Db250YWluZXIuc3R5bGUudmlzaWJpbGl0eSA9IFwidmlzaWJsZVwiO1xyXG5cclxuICAgICAgX2FjdGl2ZSA9IGZhbHNlO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gc2hvdyhtZXNzYWdlKSB7XHJcbiAgICB2YXIgZnJhZ21lbnQgPSBkb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCksXHJcbiAgICAgIHA7XHJcblxyXG4gICAgaWYgKCFfYWN0aXZlKSB7XHJcbiAgICAgIC8vIGhpZGUgbWFpbiBjb250YWluZXJcclxuICAgICAgbWFpbkNvbnRhaW5lci5zdHlsZS52aXNpYmlsaXR5ID0gXCJoaWRkZW5cIjtcclxuXHJcbiAgICAgIG1lc3NhZ2VDb250YWluZXIuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcclxuXHJcbiAgICAgIC8vIGNyZWF0ZSBtZXNzYWdlIGVsZW1lbnRcclxuICAgICAgcCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJwXCIpO1xyXG4gICAgICBwLmlubmVySFRNTCA9IG1lc3NhZ2U7XHJcbiAgICAgIHAuc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgXCJtZXNzYWdlXCIpO1xyXG4gICAgICBwLnN0eWxlLmxpbmVIZWlnaHQgPSBtZXNzYWdlQ29udGFpbmVyLnN0eWxlLmhlaWdodDtcclxuXHJcbiAgICAgIGZyYWdtZW50LmFwcGVuZENoaWxkKHApO1xyXG4gICAgICBtZXNzYWdlQ29udGFpbmVyLmFwcGVuZENoaWxkKGZyYWdtZW50KTtcclxuXHJcbiAgICAgIF9hY3RpdmUgPSB0cnVlO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgLy8gbWVzc2FnZSBhbHJlYWR5IGJlaW5nIHNob3duLCB1cGRhdGUgbWVzc2FnZSB0ZXh0XHJcbiAgICAgIHAgPSBtZXNzYWdlQ29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoXCIubWVzc2FnZVwiKTtcclxuICAgICAgcC5pbm5lckhUTUwgPSBtZXNzYWdlO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgX2luaXQoKTtcclxuXHJcbiAgcmV0dXJuIHtcclxuICAgIFwiaGlkZVwiOiBoaWRlLFxyXG4gICAgXCJzaG93XCI6IHNob3dcclxuICB9O1xyXG59O1xyXG5cclxuLyogZ2xvYmFsIGdhZGdldHMsIFJpc2VWaXNpb24gKi9cblxuKGZ1bmN0aW9uICh3aW5kb3csIGdhZGdldHMpIHtcbiAgXCJ1c2Ugc3RyaWN0XCI7XG5cbiAgdmFyIHByZWZzID0gbmV3IGdhZGdldHMuUHJlZnMoKSxcbiAgICBpZCA9IHByZWZzLmdldFN0cmluZyhcImlkXCIpO1xuXG4gIC8vIERpc2FibGUgY29udGV4dCBtZW51IChyaWdodCBjbGljayBtZW51KVxuICB3aW5kb3cub25jb250ZXh0bWVudSA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH07XG5cbiAgZnVuY3Rpb24gcGxheSgpIHtcbiAgICBSaXNlVmlzaW9uLlZpZGVvLnBsYXkoKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHBhdXNlKCkge1xuICAgIFJpc2VWaXNpb24uVmlkZW8ucGF1c2UoKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHN0b3AoKSB7XG4gICAgUmlzZVZpc2lvbi5WaWRlby5zdG9wKCk7XG4gIH1cblxuICBmdW5jdGlvbiBwb2x5bWVyUmVhZHkoKSB7XG4gICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJXZWJDb21wb25lbnRzUmVhZHlcIiwgcG9seW1lclJlYWR5KTtcblxuICAgIGlmIChpZCAmJiBpZCAhPT0gXCJcIikge1xuICAgICAgZ2FkZ2V0cy5ycGMucmVnaXN0ZXIoXCJyc2NtZF9wbGF5X1wiICsgaWQsIHBsYXkpO1xuICAgICAgZ2FkZ2V0cy5ycGMucmVnaXN0ZXIoXCJyc2NtZF9wYXVzZV9cIiArIGlkLCBwYXVzZSk7XG4gICAgICBnYWRnZXRzLnJwYy5yZWdpc3RlcihcInJzY21kX3N0b3BfXCIgKyBpZCwgc3RvcCk7XG5cbiAgICAgIGdhZGdldHMucnBjLnJlZ2lzdGVyKFwicnNwYXJhbV9zZXRfXCIgKyBpZCwgUmlzZVZpc2lvbi5WaWRlby5zZXRBZGRpdGlvbmFsUGFyYW1zKTtcbiAgICAgIGdhZGdldHMucnBjLmNhbGwoXCJcIiwgXCJyc3BhcmFtX2dldFwiLCBudWxsLCBpZCwgW1wiYWRkaXRpb25hbFBhcmFtc1wiXSk7XG4gICAgfVxuICB9XG5cbiAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJXZWJDb21wb25lbnRzUmVhZHlcIiwgcG9seW1lclJlYWR5KTtcblxufSkod2luZG93LCBnYWRnZXRzKTtcblxuXG5cclxuLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xudmFyIF9nYXEgPSBfZ2FxIHx8IFtdO1xuXG5fZ2FxLnB1c2goWydfc2V0QWNjb3VudCcsICdVQS01NzA5MjE1OS0yJ10pO1xuX2dhcS5wdXNoKFsnX3RyYWNrUGFnZXZpZXcnXSk7XG5cbihmdW5jdGlvbigpIHtcbiAgdmFyIGdhID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc2NyaXB0Jyk7IGdhLnR5cGUgPSAndGV4dC9qYXZhc2NyaXB0JzsgZ2EuYXN5bmMgPSB0cnVlO1xuICBnYS5zcmMgPSAoJ2h0dHBzOicgPT0gZG9jdW1lbnQubG9jYXRpb24ucHJvdG9jb2wgPyAnaHR0cHM6Ly9zc2wnIDogJ2h0dHA6Ly93d3cnKSArICcuZ29vZ2xlLWFuYWx5dGljcy5jb20vZ2EuanMnO1xuICB2YXIgcyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdzY3JpcHQnKVswXTsgcy5wYXJlbnROb2RlLmluc2VydEJlZm9yZShnYSwgcyk7XG59KSgpO1xuLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiJdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==
